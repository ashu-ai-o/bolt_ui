@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for Theme System */
:root {
  /* Light Theme Colors */
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f8fafc;
  --color-bg-tertiary: #f1f5f9;
  --color-text-primary: #0f172a;
  --color-text-secondary: #475569;
  --color-text-tertiary: #64748b;
  --color-border: #e2e8f0;
  --color-border-hover: #cbd5e1;
  
  /* Transition Properties */
  --theme-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

:root.dark {
  /* Dark Theme Colors */
  --color-bg-primary: #000000;
  --color-bg-secondary: #111111;
  --color-bg-tertiary: #222222;
  --color-text-primary: #ffffff;
  --color-text-secondary: #cccccc;
  --color-text-tertiary: #999999;
  --color-border: #333333;
  --color-border-hover: #444444;
}

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    transition: var(--theme-transition);
    overflow-x: hidden;
  }
  
  #root {
    height: 100%;
    min-height: 100vh;
  }

  /* Apply theme colors with transitions */
  body {
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    transition: var(--theme-transition);
  }
  
  /* Responsive text scaling */
  @media (max-width: 640px) {
    html {
      font-size: 14px;
    }
  }
}

@layer components {
  /* Theme-aware component styles */
  .theme-bg-primary {
    background-color: var(--color-bg-primary);
    transition: var(--theme-transition);
  }
  
  .theme-bg-secondary {
    background-color: var(--color-bg-secondary);
    transition: var(--theme-transition);
  }
  
  .theme-bg-tertiary {
    background-color: var(--color-bg-tertiary);
    transition: var(--theme-transition);
  }
  
  .theme-text-primary {
    color: var(--color-text-primary);
    transition: var(--theme-transition);
  }
  
  .theme-text-secondary {
    color: var(--color-text-secondary);
    transition: var(--theme-transition);
  }
  
  .theme-text-tertiary {
    color: var(--color-text-tertiary);
    transition: var(--theme-transition);
  }
  
  .theme-border {
    border-color: var(--color-border);
    transition: var(--theme-transition);
  }
  
  .theme-border-hover:hover {
    border-color: var(--color-border-hover);
  }

  /* Syntax highlighting for code editor */
  .syntax-keyword {
    @apply text-purple-400 font-semibold;
  }
  
  .syntax-string {
    @apply text-green-400;
  }
  
  .syntax-comment {
    @apply text-gray-500 italic;
  }
  
  .syntax-bracket {
    @apply text-blue-300;
  }
  
  .syntax-react {
    @apply text-blue-400 font-semibold;
  }
  
  .syntax-number {
    @apply text-orange-400;
  }

  /* Enhanced button styles with theme support */
  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }
  
  .btn-secondary {
    @apply theme-bg-secondary theme-text-primary theme-border border hover:theme-border-hover px-4 py-2 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }
}

/* Custom scrollbar with theme support */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border-hover);
  border-radius: 4px;
  transition: var(--theme-transition);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-tertiary);
}

/* Selection colors with theme support */
::selection {
  background: #3b82f6;
  color: white;
}

/* Focus styles with theme support */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
}

:root.light .focus-ring {
  @apply focus:ring-offset-white;
}

:root.dark .focus-ring {
  @apply focus:ring-offset-gray-900;
}

/* Smooth theme transition for all elements */
* {
  transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}